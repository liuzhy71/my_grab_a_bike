D2
==
## PURPOSE AND SCOPE
Grab a bike is an effort-free bike sharing service that focuses on the environment and user, providing hop and go feeling and an intelligent navigation through the city. 
The system is designed to provide a service free from all the constraints of specific parking spots: the bike can be taken and left wherever the user needs. 
Moreover, with a smart pollution monitoring system, grab-a-bike can prevent the user from passing through polluted spots in the city.

DEFINITIONS
--
### Glossary

 * **App**: Android based application (4.4+).
 * **The interface**: the application.
 * **HW**: the hardware part fixed on the bike crossbar.
 * **The sensor**: the pollution sensor provided on the HW part.
 * **The lock**: the lock managed by the HW and the app.
 * **LEDS**: the LEDs fixed on the handle of the bike to provide the routing advice.

### Actors

Every adult citizen who has a smartphone with GPS and Internet connection, such as travelers, workers and students.

## SYSTEM REQUIREMENTS
### Functional requirement:

Functional area | Description 
----------------|--------------
1-ID | User login, registration, and logout
2-LCTM | Bike locating, and map function
3- PUS | Pollution-sensing and reasoning
4- NTF | Notifications in the app and also the bike LEDs
5-ATS  | Bike anti-stolen function




**1.1 User registration** - 
**Priority:1**
The user registration on the website is needed to control the bikes’ access.

**1.2 User auto-login manual-logout** - 
**Priority: 2**
The user will only need to login once on the app, the next time the interface will be acceded without a login. The logout will have to be done manually.
The latest position of the bike is stored on a database. Once the bike is unlocked and locked again the position will be updated.

**3.1.1 Pollution database** - 
**Priority : 2**

A database stores data about the pollution level as a function of the position. If the database has already pollution information of a certain place, the data is updated whenever a new value is detected. If the pollution level is greater than a given limit level, a flag is given to the user.

**3.1.2 Sensing** - 
**Priority : 1**
The pollution data is provided by a sensor embedded in the onboard system of the bike.

**3.2. Position** - 
**Priority : 2**
The GPS data is given by the GPS antenna of the user's smartphone.

**4.1 Anti-pollution Advice by means of a LED** - 
**Priority: 2**
During the use of the bike, if the user position is close to a polluted place (pollution flag = 1) the notification LED turns on.

**4.2 Anti-pollution advice - notification** - 
**Priority: 3**

During the use of the bike, if the user position is close to a polluted place (pollution flag = 1) the app sends a notification to the user.



**5.1 Smart lock** - 
**Priority: 1**
The bike is provided with an automatic lock, controlled by the user via the application.

**5.2 Smart alarm** - 
**Priority: 2**
When the bike is locked, if it is moved the alarm is activated.

## NON FUNCTIONAL REQUIREMENTS

 * Portability: Android smartphones running KitKat or later (4.4+)
 * Efficiency: The response time for the system to detect the polluted area and warn the user of an alternative route is estimated to be a couple seconds maximum, this way the user experience won’t be compromised.
 * Privacy: User data is logged in the server anonymously, saving only the bike positions and the polluted areas.
 * Safety: The user ride through the city won’t be distracted with the smartphone screen, only a small screen/led on the bike will provide relevant information to the user.

# OPEN ISSUES
 * Bike connection to the Internet
 * Bike theft detection and prevention
 


